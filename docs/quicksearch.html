<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"steps_browser.js.html":{"id":"steps_browser.js.html","title":"Source: steps/browser.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: steps/browser.js &quot;use strict&quot;; /** * Steps for web applications. * * @mixin BrowserSteps */ var fs = require(&quot;fs&quot;); var path = require(&quot;path&quot;); var _ = require(&quot;lodash&quot;); var fp = require(&quot;lodash/fp&quot;); var expect = require(&quot;chai&quot;).expect; var selenium = require(&quot;selenium-standalone&quot;); var wdio = require(&quot;webdriverio&quot;); var U = require(&quot;glace-utils&quot;); var LOG = U.logger; var CONF = require(&quot;../config&quot;); var defChromeOpts; var BrowserSteps = { /* imports */ __wdio: wdio, activateWeb: function () { /** * Helper to activate web application. * * @memberOf BrowserSteps * @method activateWeb * @instance */ this.webdriver = this.__wdio.remote(CONF.webdriver); this.webUrl = U.defVal(this.webUrl, CONF.web.url); LOG.info(&quot;Web driver is activated&quot;); }, installSeleniumDrivers: async function (opts) { /** * Step to install selenium drivers. * * @async * @memberOf BrowserSteps * @method installSeleniumDrivers * @instance * @arg {object} [opts] - [selenium-standalone](https://github.com/vvo/selenium-standalone) options. * @return {Promise&lt;void&gt;} * @throws {Error} If there was error during drivers installation. */ if (!CONF.web.updateDrivers &amp;&amp; this._checkInstalledDrivers()) { LOG.info(&quot;Selenium drivers are installed already&quot;); return; } opts = U.defVal(opts, {}); opts.logger = LOG.debug.bind(LOG); opts = fp.merge(opts, CONF.web.seleniumOpts); allure.step(&quot;Install selenium drivers&quot;); LOG.info(&quot;Installing selenium drivers...&quot;); await new Promise((resolve, reject) =&gt; { selenium.install(opts, err =&gt; { if (err) return reject(err); resolve(); }); }); LOG.info(&quot;Selenium drivers are installed&quot;); allure.pass(); }, startSeleniumServer: async function (opts) { /** * Step to start selenium server. Step recall will be skipped if * selenium server wasn't stopped before. * * @async * @memberOf BrowserSteps * @method startSeleniumServer * @arg {object} [opts] - [selenium-standalone](https://github.com/vvo/selenium-standalone) options. * @instance * @return {Promise&lt;boolean&gt;} `true` if step is executed, `false` if skipped. * @throws {Error} If there was error on selenium start. */ if (this._seleniumProc) { LOG.warn(&quot;Step to start selenium server was passed already&quot;); return false; }; opts = U.defVal(opts, {}); opts = fp.merge(opts, CONF.web.seleniumOpts); allure.step(&quot;Start selenium server&quot;); LOG.info(&quot;Starting selenium server...&quot;); this._seleniumProc = await new Promise((resolve, reject) =&gt; { selenium.start(opts, (err, child) =&gt; { if (err) return reject(err); resolve(child); }); }); LOG.info(`Selenium server is started with PID ${this._seleniumProc.pid}`); allure.pass(); return true; }, stopSeleniumServer: async function () { /** * Step to stop selenium server. Step call will be skipped if selenium * server wasn't started before. * * @async * @memberOf BrowserSteps * @method stopSeleniumServer * @instance * @return {Promise&lt;boolean&gt;} `true` if step is executed, `false` if skipped. * @throws {Error} If there was error on selenium stop. */ if (!this._seleniumProc) { LOG.warn(&quot;Step to start selenium server wasn't passed yet&quot;); return false; }; allure.step(&quot;Stop selenium server&quot;); LOG.info(&quot;Stopping selenium server...&quot;); await new Promise((resolve, reject) =&gt; { this._seleniumProc.on(&quot;exit&quot;, (code, signal) =&gt; { LOG.debug(&quot;Selenium server was stopped with&quot;, `code ${code} and signal ${signal}`); delete this._seleniumProc; resolve(); }); this._seleniumProc.on(&quot;error&quot;, reject); var result = this._seleniumProc.kill(&quot;SIGINT&quot;); if (!result) reject(&quot;Oops! Can't kill selenium server&quot;); }); LOG.info(&quot;Selenium server is stopped&quot;); allure.pass(); return true; }, launchBrowser: async function (opts) { /** * Step to launch browser. Step recall will be skipped if browser * wasn't closed before. * * @async * @memberOf BrowserSteps * @method launchBrowser * @instance * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that browser was * launched. * @arg {string[]} [opts.chromeOpts=[]] - List of chrome options. * @return {Promise&lt;boolean&gt;} `true` if step is executed, `false` if skipped. * @throws {AssertionError} If browser wasn't launched. * * @example * * await SS.launchBrowser(); * await SS.launchBrowser({ chromeOpts: [&quot;headless&quot;, &quot;user-data-dir=/path/to/dir&quot;] }); */ if (this._isBrowserLaunched) { LOG.debug(&quot;Step to launch browser was passed already&quot;); return false; }; allure.step(&quot;Launch browser via selenium&quot;); expect(this.webdriver, &quot;Web driver is not activated&quot;).to.exist; opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); LOG.info(&quot;Launching browser via selenium...&quot;); if (CONF.web.platform === &quot;pc&quot; &amp;&amp; this.webdriver.desiredCapabilities.browserName === &quot;chrome&quot;) { this._setChromeOpts(opts.chromeOpts); } await this.webdriver.init(); await this._setTimeouts(); if (check) { expect(await this.webdriver.session(), &quot;Browser wasn't launched&quot;).to.exist; }; this._isBrowserLaunched = true; LOG.info(&quot;Browser is launched&quot;); if (CONF.web.platform === &quot;pc&quot; &amp;&amp; CONF.web.width &amp;&amp; CONF.web.height) { await this.setViewport(); }; allure.pass(); return true; }, /** * Helper to webdriver timeouts. * @ignore */ _setTimeouts: async function () { var pageLoad = CONF.web.pageTimeout * 1000; try { await this.webdriver.timeouts(&quot;page load&quot;, pageLoad); } catch (e) { LOG.error(&quot;Can't set webdriver timeouts&quot;, e); await this.webdriver.timeouts({ pageLoad: pageLoad }); } }, /** * Helper to set chrome options. * * It composes chrome options list in next order: * - user provided options * - proxy options if they are not present in list * - default config options if they are not present in list * * @method * @instance * @protected * @arg {array} [chromeOpts=[]] - List of chrome options. */ _setChromeOpts: function (chromeOpts) { var opt; /* store origin chrome options, because then webdriver options will be overridden */ defChromeOpts = U.defVal(defChromeOpts, this.webdriver.desiredCapabilities.chromeOptions.args, []); chromeOpts = _.clone(U.defVal(chromeOpts, [])); if (this.globalProxy &amp;&amp; this.globalProxy.isRunning) { var proxyOptions = [ &quot;ignore-certificate-errors&quot;, `proxy-server=${U.hostname}:${CONF.proxy.globalPort}`, `proxy-bypass-list=localhost,127.0.0.1,${U.hostname}`, ]; for (opt of proxyOptions) { if (!isOptPresent(opt, chromeOpts)) chromeOpts.push(opt); }; }; for (opt of defChromeOpts) { if (!isOptPresent(opt, chromeOpts)) chromeOpts.push(opt); }; this.webdriver.desiredCapabilities.chromeOptions.args = chromeOpts; }, setViewport: async function (opts) { /** * Step to set browser viewport size. * * @async * @memberOf BrowserSteps * @method setViewport * @instance * @arg {object} [opts] - Step options. * @arg {number} [opts.width] - Browser viewport width. * @arg {number} [opts.height] - Browser viewport height. * @arg {boolean} [opts.check=true] - Flag to check step result. * @return {boolean} `true` when step is executed. * @throws {AssertionError} If width or height values are not a number. * @throws {AssertionError} If viewport size wasn't changed correctly. */ opts = U.defVal(opts, {}); var width = U.defVal(opts.width, CONF.web.width); var height = U.defVal(opts.height, CONF.web.height); var check = U.defVal(opts.check, true); expect(width, &quot;Invalid browser viewport width&quot;).to.be.a(&quot;number&quot;); expect(height, &quot;Invalid browser viewport height&quot;).to.be.a(&quot;number&quot;); allure.step(`Set browser viewport to [width=${width}, height=${height}]`); LOG.info(`Setting browser viewport to [width=${width}, height=${height}]...`); await this .webdriver .setViewportSize({ width: width, height: height }); if (check) { var viewport = await this.webdriver.getViewportSize(); expect(viewport.width, &quot;Invalid browser viewport width&quot;) .to.be.equal(width); expect(viewport.height, &quot;Invalid browser viewport height&quot;) .to.be.equal(height); }; LOG.info(&quot;Browser viewport size is set&quot;); allure.pass(); return true; }, closeBrowser: async function (opts) { /** * Step to close browser. Step will be skipped if browser wasn't launched * before. * * @async * @memberOf BrowserSteps * @method closeBrowser * @instance * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that browser was closed. * @return {Promise&lt;boolean&gt;} `true` if step is executed, `false` if skipped. * @throws {AssertionError} If browser wasn't closed. */ if (!this._isBrowserLaunched) { LOG.debug(&quot;Step to launch browser wasn't passed yet&quot;); return false; }; opts = U.defVal(opts, {}); opts.check = U.defVal(opts.check, true); allure.step(&quot;Close browser&quot;); LOG.info(&quot;Closing browser...&quot;); await this.webdriver.end(); await this.pause(1, &quot;webdriver process will be stopped&quot;); if (opts.check) { expect(await this.webdriver.session(), &quot;Browser wasn't closed&quot;).to.not.exist; }; this._isBrowserLaunched = false; LOG.info(&quot;Browser is closed&quot;); allure.pass(); return true; }, restartBrowser: async function (opts) { /** * Step to restart browser. * * @async * @memberOf BrowserSteps * @method restartBrowser * @instance * @arg {object} [opts] - Step options. * @return {Promise&lt;void&gt;} */ allure.step(&quot;Restart browser&quot;); await this.closeBrowser(opts); await this.launchBrowser(opts); allure.pass(); }, openUrl: async function (webUrl, opts) { /** * Step to open URL in browser. * * @async * @memberOf BrowserSteps * @method openUrl * @instance * @arg {string} webUrl - URL which should be opened in browser. * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check that URL is opened. * @arg {number} [opts.timeout] - Timeout to wait for URL will be opened * in browser, sec. Default value is `CONF.web.pageTimeout`. * @return {Promise&lt;void&gt;} * @throws {Error} If URL wasn't opened after timeout. */ opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); var timeout = U.defVal(opts.timeout, CONF.web.pageTimeout) * 1000; allure.step(`Open URL ${webUrl} in browser`); LOG.info(`Openning URL ${webUrl} in browser...`); await this.webdriver.url(webUrl); if (check) { var errMsg = `Browser didn't navigate to ${webUrl} ` + `during ${timeout} ms`; await this.webdriver.waitUntil(async () =&gt; { var curUrl = await this.webdriver.getUrl(); LOG.debug(`Compare current URL ${curUrl}`, `with expected ${webUrl}`); return curUrl.startsWith(webUrl); }, timeout, errMsg); }; LOG.info(&quot;URL is opened&quot;); allure.pass(); }, openApp: async function (opts) { /** * Step to open application URL in browser. * * @async * @memberOf BrowserSteps * @method openApp * @instance * @arg {object} [opts] - Step options. * @return {Promise&lt;void&gt;} * @throws {AssertionError} If application URL is not defined. */ allure.step(&quot;Open web application&quot;); expect(this.webUrl, &quot;Web URL isn't defined&quot;).to.exist; await this.openUrl(this.webUrl, opts); allure.pass(); }, /** * Helper to check whether selenium drivers are installed or no. * * @ignore */ _checkInstalledDrivers: function () { var driversDir = path.join( path.dirname(require.resolve(&quot;selenium-standalone&quot;)), &quot;.selenium&quot;); if (!fs.existsSync(driversDir)) return false; for (var dirName of fs.readdirSync(driversDir)) { if (dirName.includes(&quot;driver&quot;)) return true; } return false; }, }; module.exports = BrowserSteps; /** * Helper to define whether chrome option is present in options list. * * @ignore * @function */ var isOptPresent = (opt, opts) =&gt; { var optStart = opt.split(&quot;=&quot;)[0]; for (var o of opts) { if (o.split(&quot;=&quot;)[0] === optStart) return true; }; return false; }; × Search results Close "},"pom_element.js.html":{"id":"pom_element.js.html","title":"Source: pom/element.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: pom/element.js &quot;use strict&quot;; /** * Creates a new instance of `Element`. * * `Element` binds DOM control in browser context with virtual control in test. * * @class * @name Element * @arg {string} name - Control name. * @arg {object} selector - CSS selector of DOM element. * @arg {Page} page - Page with element. */ var weak = require(&quot;weak&quot;); var U = require(&quot;glace-utils&quot;); var CONF = require(&quot;../config&quot;); var PointerEvents = require(&quot;./event&quot;); var Element = function (name, selector, page) { this.name = name; this.selector = selector; this._event = new PointerEvents(selector, page); this._page = weak(page); this._elCmd = `document.querySelector(&quot;${this.selector}&quot;)`; this._webdriver = null; }; /** * Helper to get webdriver. * * @method * @return {object} webdriver instance */ Element.prototype._getDriver = function () { if (!this._webdriver) { this._webdriver = this._page.getDriver(); }; return this._webdriver; }; /** * Gets webdriver element. * * @method * @return {object} Webdriver element. */ Element.prototype.getElement = function () { return this._getDriver().element(this.selector); }; /** * Gets text content of DOM element. * * @async * @method * @arg {object} [opts] - Options. * @arg {boolean} [opts.now=false] - Make it immediately. * @arg {?number} [opts.timeout] - Time to wait for element visibility, sec. * @return {Promise&lt;string&gt;} Text value or null. */ Element.prototype.getText = async function (opts) { opts = U.defVal(opts, {}); var now = U.defVal(opts.now, false); if (!now) { await this.waitForVisible(opts.timeout); }; var value = await this._getDriver().getText(this.selector); if (value) return value.trim(); value = await this._getDriver().getAttribute(this.selector, &quot;value&quot;); if (value) return value.trim(); value = await this._getDriver().getAttribute(this.selector, &quot;innerHTML&quot;); if (value) return value.trim(); return null; }; /** * Sets text to DOM element. * * @async * @method * @arg {string} text - Text value to assign. * @arg {object} [opts] - Options. * @arg {boolean} [opts.now=false] - Make it immediately. * @arg {?number} [opts.timeout] - Time to wait for element visibility, sec. * @arg {boolean} [opts.scroll=true] - Scroll to element. * @return {Promise} */ Element.prototype.setText = async function (text, opts) { opts = U.defVal(opts, {}); var now = U.defVal(opts.now, false); var scroll = U.defVal(opts.scroll, true); if (scroll) { await this.scrollIntoView(opts); } else if (!now) { await this.waitForVisible(opts.timeout); }; await this._getDriver().setValue(this.selector, text); }; /** * Gets DOM control location with attributes: * `x`, `y`, `midX`, `midY`, `width`, `height`. * * @async * @method * @return {Promise&lt;object&gt;} Location of control. */ Element.prototype.location = function () { var cmd = ` \\ var ctrl = ${this._elCmd}; \\ var rect = ctrl.getBoundingClientRect(); \\ var location = {}; \\ location.x = Math.ceil(rect.left); \\ location.y = Math.ceil(rect.top); \\ location.width = Math.ceil(rect.width); \\ location.height = Math.ceil(rect.height); \\ location.midX = Math.ceil(location.x + location.width / 2); \\ location.midY = Math.ceil(location.y + location.height / 2); \\ return location;`; return this._getDriver().execute(cmd).then(result =&gt; result.value); }; /** * Scrolls control into browser viewport. * * @async * @method * @arg {object} [opts] - Options. * @arg {boolean} [opts.now=false] - Make it immediately. * @arg {?number} [opts.timeout] - Time to wait for element visibility, sec. * @return {Promise} */ Element.prototype.scrollIntoView = async function (opts) { opts = U.defVal(opts, {}); var now = U.defVal(opts.now, false); if (!now) { await this.waitForVisible(opts.timeout); }; var cmd = &quot;return &quot; + this._elCmd + &quot;.scrollIntoView();&quot;; await this._getDriver().execute(cmd); }; /** * Clicks control in browser. * * @async * @method * @arg {object} [opts] - Options. * @arg {boolean} [opts.now=false] - Make it immediately. * @arg {?number} [opts.timeout] - Time to wait for element visibility, sec. * @arg {boolean} [opts.scroll=true] - Scroll to element. * @return {Promise} */ Element.prototype.click = async function (opts) { opts = U.defVal(opts, {}); var now = U.defVal(opts.now, false); var scroll = U.defVal(opts.scroll, true); if (scroll) { await this.scrollIntoView(opts); } else if (!now) { await this.waitForVisible(opts.timeout); }; await this._getDriver().click(this.selector); }; /** * Clicks element in browser via pointer events. * * @async * @method * @arg {object} [opts] - Options. * @arg {boolean} [opts.now=false] - Make it immediately. * @arg {?number} [opts.timeout] - Time to wait for element visibility, sec. * @arg {boolean} [opts.scroll=true] - Scroll to element. * @return {Promise} */ Element.prototype.pClick = async function (opts) { opts = U.defVal(opts, {}); var now = U.defVal(opts.now, false); var scroll = U.defVal(opts.scroll, true); if (scroll) { await this.scrollIntoView(opts); } else if (!now) { await this.waitForVisible(opts.timeout); }; var loc = await this.location(); await this._event.move(loc.midX, loc.midY); await this._event.down(loc.midX, loc.midY); await this._event.up(loc.midX, loc.midY); }; /** * Taps control in browser. * * @async * @method * @arg {object} [opts] - Options. * @arg {boolean} [opts.now=false] - Make it immediately. * @arg {?number} [opts.timeout] - Time to wait for element visibility, sec. * @arg {boolean} [opts.scroll=true] - Scroll to element. * @return {Promise} */ Element.prototype.tap = Element.prototype.click; /** * Defines whether control is selected or no. * * @async * @method * @arg {object} [opts] - Options. * @arg {boolean} [opts.now=false] - Make it immediately. * @arg {?number} [opts.timeout] - Time to wait for element visibility, sec. * @return {Promise&lt;boolean&gt;} `true` if control is selected, `false` otherwise. */ Element.prototype.isSelected = async function (opts) { opts = U.defVal(opts, {}); var now = U.defVal(opts.now, false); if (!now) { await this.waitForVisible(opts.timeout); }; var result = await this._getDriver().isSelected(this.selector); if (result) return true; result = await this._getDriver().getAttribute(this.selector, &quot;class&quot;); return result.includes(&quot;selected&quot;); }; /** * Defines whether control is exist or no. * * @async * @method * @return {Promise&lt;boolean&gt;} `true` if control is exist, `false` otherwise. */ Element.prototype.isExist = function () { var cmd = &quot;return !!&quot; + this._elCmd + &quot;;&quot;; return this._getDriver().execute(cmd).then(result =&gt; result.value); }; /** * Waits for control is exist. * * @async * @method * @arg {number} [timeout] - Timeout to wait, sec. * @return {Promise} * @throws {TimeoutError} If control doesn't exist after timeout. */ Element.prototype.waitForExist = function (timeout) { timeout = U.defVal(timeout, CONF.web.uiTimeout) * 1000; var errMsg = `${this.name} (${this.selector}) doesn't exist after ${timeout}s`; return this._getDriver().waitUntil(async () =&gt; { return await this.isExist(); }, timeout, errMsg); }; /** * Waits for control isn't exist. * * @async * @method * @arg {number} [timeout] - Timeout to wait, sec. * @return {Promise} * @throws {TimeoutError} If control is still exist after timeout. */ Element.prototype.waitForNonExist = function (timeout) { timeout = U.defVal(timeout, CONF.web.uiTimeout) * 1000; var errMsg = `${this.name} (${this.selector}) still exists after ${timeout}s`; return this._getDriver().waitUntil(async () =&gt; { return !(await this.isExist()); }, timeout, errMsg); }; /** * Defines whether control is visible or no. * * @method * @return {Promise&lt;boolean&gt;} `true` if control is visible, `false` otherwise. */ Element.prototype.isVisible = function () { return this.isExist().then(result =&gt; { if (!result) return false; return this._getDriver().isVisible(this.selector); }); }; /** * Waits for control is visible. * * @async * @method * @arg {number} [timeout] - Timeout to wait, sec. * @return {Promise} * @throws {TimeoutError} If control isn't visible after timeout. */ Element.prototype.waitForVisible = function (timeout) { timeout = U.defVal(timeout, CONF.web.uiTimeout) * 1000; var errMsg = `${this.name} (${this.selector}) isn't visible ` + `after ${timeout}s`; return this._getDriver().waitUntil(async () =&gt; { return await this.isVisible(); }, timeout, errMsg); }; /** * Waits for control is invisible. * * @async * @method * @arg {number} [timeout] - Timeout to wait, sec. * @return {Promise} * @throws {TimeoutError} If control is still visible after timeout. */ Element.prototype.waitForInvisible = function (timeout) { timeout = U.defVal(timeout, CONF.web.uiTimeout) * 1000; var errMsg = `${this.name} (${this.selector}) is still visible after ${timeout}s`; return this._getDriver().waitUntil(async () =&gt; { return !(await this.isVisible()); }, timeout, errMsg); }; module.exports = Element; × Search results Close "},"fixtures.js.html":{"id":"fixtures.js.html","title":"Source: fixtures.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: fixtures.js &quot;use strict&quot;; /** * `Web` fixtures. * * @module */ var U = require(&quot;glace-utils&quot;); var CONF = require(&quot;./config&quot;); /** * Fixture to launch selenium server. * * @global * @function * @arg {function} func - Test funciton. */ global.fxSelenium = func =&gt; { var isStarted; before(async () =&gt; { if (CONF.webdriver.host) return; await SS.installSeleniumDrivers(); isStarted = await SS.startSeleniumServer(); }); func(); after(async () =&gt; { if (!isStarted) return; await SS.stopSeleniumServer(); }); }; /** * Fixture to launch browser. * * @global * @function * @arg {function} func - Test funciton. */ global.fxBrowser = func =&gt; { var isStarted; before(async () =&gt; { isStarted = await SS.launchBrowser(); }); func(); after(async () =&gt; { if (!isStarted) return; await SS.closeBrowser(); }); }; /** * Fixture to set webdriver. * * @global * @function * @arg {function} func - Test funciton. */ global.fxWebdriver = func =&gt; { before(() =&gt; SS.activateWeb()); func(); }; /** * Fixture to kill webdriver processes. * * @global * @function * @arg {function} func - Test funciton. */ global.fxKillWebdriver = func =&gt; { var webdrivers = [ &quot;chromedriver&quot;, ]; before(async () =&gt; { for (var procName of webdrivers) await U.killProcs(procName); }); func(); }; × Search results Close "},"config.js.html":{"id":"config.js.html","title":"Source: config.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: config.js &quot;use strict&quot;; /** * Configures `GlaceJS` before tests run. * * @namespace GlaceConfig * @prop {object} web - Web options. * @prop {boolean} [web.use=false] - Flag to use web. * @prop {string} [web.url] - URL of web application. * @prop {boolean} [web.updateDrivers=true] - Flag to update selenium drivers * before start. * @prop {string} [web.platform=pc] - Platform type. * @prop {string} [web.browser] - Browser name. * @prop {object} webdriver - Webdriver options. */ var expect = require(&quot;chai&quot;).expect; var logfmt = require(&quot;logfmt&quot;); var U = require(&quot;glace-utils&quot;); var config = U.config; var args = config.args; config.webdriver = U.defVal(config.webdriver, {}); config.web = U.defVal(config.web, {}); config.web.uiTimeout = 5; config.web.pageTimeout = 60; config.web.use = U.defVal(!!args.web, false); config.web.url = U.defVal(args.webUrl); config.web.updateDrivers = U.defVal(args.updateWebDrivers, false); config.web.platform = U.defVal(args.platform, &quot;pc&quot;); [ config.web.width, config.web.height ] = U.defVal(args.webResolution, &quot;&quot;).split(&quot;x&quot;); config.web.width = config.web.width &amp;&amp; parseInt(config.web.width); config.web.height = config.web.height &amp;&amp; parseInt(config.web.height); config.web.seleniumOpts = {}; config.chrome = U.defVal(config.chrome, {}); config.chrome.incognito = U.defVal(args.chromeIncognito, false); config.chrome.headless = U.defVal(args.chromeHeadless, false); if (args.chromeOptions) { config.chrome.options = logfmt.parse(args.chromeOptions.replace(/'/g, &quot;\\&quot;&quot;)); } expect([&quot;pc&quot;, &quot;android&quot;, &quot;ios&quot;], &quot;Invalid `--platform` value&quot;).include(config.web.platform); config.web.browser = U.defVal(args.browser); var desired = config.webdriver.desiredCapabilities = {}; if (args.seleniumAddress) { var [ host, port ] = args.seleniumAddress.split(&quot;:&quot;); if (host) config.webdriver.host = host; if (port) config.webdriver.port = port; }; if (config.web.platform === &quot;pc&quot;) { config.web.isDesktop = true; desired.browserName = U.defVal(args.browser, &quot;chrome&quot;).toLowerCase(); if (desired.browserName === &quot;chrome&quot;) { desired.chromeOptions = { args: [ &quot;test-type&quot;, &quot;start-maximized&quot;, &quot;disable-infobars&quot;, &quot;enable-precise-memory-info&quot; ], prefs: { &quot;credentials_enable_service&quot;: false, &quot;profile&quot;: { &quot;password_manager_enabled&quot;: false, }, }, excludeSwitches: [ &quot;enable-automation&quot;, ], useAutomationExtension: false, }; if (config.chrome.incognito) { desired.chromeOptions.args.push(&quot;incognito&quot;); }; if (config.chrome.headless) { desired.chromeOptions.args.push(&quot;headless&quot;); } if (config.chrome.options) { for (var [k, v] of Object.entries(config.chrome.options)) { if (v === true) { desired.chromeOptions.args.push(k); } else { desired.chromeOptions.args.push(k + &quot;=&quot; + v); } } } }; } else { config.web.isMobile = true; desired.deviceName = args.device; desired.platformVersion = String(args.osVersion); if (args.udid) { desired.udid = args.udid; }; if (config.web.platform === &quot;android&quot;) { config.web.isAndroid = true; desired.browserName = U.defVal(args.browser, &quot;chrome&quot;).toLowerCase(); desired.platformName = &quot;Android&quot;; }; if (config.web.platform === &quot;ios&quot;) { config.web.isIos = true; desired.browserName = U.defVal(args.browser, &quot;safari&quot;).toLowerCase(); desired.platformName = &quot;iOS&quot;; desired.automationName = args.iosEngine || &quot;XCUITest&quot;; }; }; module.exports = config; × Search results Close "},"pluginHelp.js.html":{"id":"pluginHelp.js.html","title":"Source: pluginHelp.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: pluginHelp.js &quot;use strict&quot;; /** * `Web` plugin help. * * @function */ module.exports = (args, d) =&gt; { return args .options({ /* selenium */ &quot;update-web-drivers&quot;: { describe: d(&quot;Update installed selenium drivers on tests run.&quot;), type: &quot;boolean&quot;, group: &quot;Selenium:&quot;, }, &quot;web&quot;: { describe: d(&quot;Flag to launch tests in browser.&quot;), type: &quot;boolean&quot;, group: &quot;Selenium:&quot;, }, &quot;web-url &lt;URL&gt;&quot;: { describe: d(&quot;Web URL which will be used for web tests.&quot;), type: &quot;string&quot;, group: &quot;Selenium:&quot;, }, &quot;web-resolution &lt;widthxheight&gt;&quot;: { describe: d(&quot;Browser viewport size ('pc' platform only).&quot;), type: &quot;string&quot;, group: &quot;Selenium:&quot;, }, &quot;selenium-address &lt;host:port&gt;&quot;: { describe: d(&quot;Connect to launched selenium server with this address.&quot;), type: &quot;string&quot;, group: &quot;Selenium:&quot;, }, &quot;platform [type]&quot;: { describe: d(&quot;Specify platform type where tests will be executed.&quot;, &quot;Default is 'pc'.&quot;), type: &quot;string&quot;, choices: [ &quot;pc&quot;, &quot;android&quot;, &quot;ios&quot; ], group: &quot;Selenium:&quot;, }, &quot;browser [name]&quot;: { describe: d(&quot;Name of browser where web tests will be&quot;, &quot;executed. Default value is platform specific.&quot;), type: &quot;string&quot;, group: &quot;Selenium:&quot;, }, /* appium */ &quot;device &lt;name&gt;&quot;: { describe: d(&quot;Mobile device name.&quot;), type: &quot;string&quot;, group: &quot;Appium:&quot;, }, &quot;os-version &lt;value&gt;&quot;: { describe: d(&quot;Mobile operating system version.&quot;), type: &quot;string&quot;, group: &quot;Appium:&quot;, }, &quot;ios-engine &lt;name&gt;&quot;: { describe: d(&quot;iOS automation engine name.&quot;), type: &quot;string&quot;, group: &quot;Appium:&quot;, }, &quot;udid &lt;value&gt;&quot;: { describe: d(&quot;Mobile device UDID.&quot;), type: &quot;string&quot;, group: &quot;Appium:&quot;, }, /* chrome */ &quot;chrome-incognito&quot;: { describe: d(&quot;Launch chrome in incognito mode.&quot;), type: &quot;boolean&quot;, group: &quot;Chrome:&quot;, }, &quot;chrome-headless&quot;: { describe: d(&quot;Launch chrome in headless mode.&quot;), type: &quot;boolean&quot;, group: &quot;Chrome:&quot;, }, &quot;chrome-options&quot;: { describe: d(&quot;Provide space-separated chrome options with key=value style.&quot;), type: &quot;string&quot;, group: &quot;Chrome:&quot;, }, }); }; × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: index.js &quot;use strict&quot;; /** * `GlaceJS Web` plugin. * * @module */ var config, Page, pluginHelp, Steps; Object.defineProperties(exports, { /** * @type {GlaceConfig} */ config: { get: function () { config = config || require(&quot;./config&quot;); return config; }, }, /** * @type {Page} */ Page: { get: function () { Page = Page || require(&quot;./pom&quot;); return Page; }, }, /** * @type {pluginHelp} */ pluginHelp: { get: function () { pluginHelp = pluginHelp || require(&quot;./pluginHelp&quot;); return pluginHelp; }, }, /** * @type {WebSteps} */ Steps: { get: function () { Steps = Steps || require(&quot;./steps&quot;); return Steps; }, }, }); × Search results Close "},"pom_index.js.html":{"id":"pom_index.js.html","title":"Source: pom/index.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: pom/index.js &quot;use strict&quot;; /** * Page of browser. * * @class * @name Page * @arg {string} name - Name of page. * @arg {string} pageUrl - URL of page. * @arg {object} elements - Element names and selectors dictionary. */ var _ = require(&quot;lodash&quot;); var Element = require(&quot;./element&quot;); var Page = function (name, pageUrl, elements) { this.name = name; this.url = pageUrl; this._webdriver = null; this.addElements(elements || {}); }; /** * Sets webdriver for page. * * @method * @arg {object} webdriver - Webdriver instance. */ Page.prototype.setDriver = function (webdriver) { this._webdriver = webdriver; }; /** * Gets webdriver. * * @method * @return {object} - Webdriver instance. * @throws {AssertionError} - If webdriver isn't set yet. */ Page.prototype.getDriver = function () { expect(this._webdriver, &quot;Webdriver isn't set&quot;) .to.exist; return this._webdriver; }; /** * Adds elements to page. * * @method * @arg {object} elements - Element names and selectors dictionary. */ Page.prototype.addElements = function (elements) { for (var name in elements) { var selector = elements[name]; this._addElement(name, selector); }; }; /** * Adds element. * * @protected * @method * @arg {string} name - Element name. * @arg {string} selector - Element selector. */ Page.prototype._addElement = function (name, selector) { if (_.isFunction(selector)) { this._addElement(name, selector()); } else if (_.isArray(selector)) { if (selector.length &lt; 1) { throw new Error(&quot;selectors array should have at least 1 item&quot;); }; for (var i = 0; i &lt; selector.length; i++) { var n = name + &quot;_&quot; + (i + 1); var s = selector[i]; this._addElement(n, s); }; } else if (_.isString(selector)) { if (this[name]) { throw new Error( `Page '${this.name}' already contains property '${name}'`); }; this[name] = new Element(name, selector, this); } else { throw new Error(&quot;selector should be string or array or function &quot; + `but not ${typeof selector}`); }; }; /** * Removes elements from page. * * @method * @arg {...string} elementNames - Sequence of element names. */ Page.prototype.removeElements = function () { for (var name of arguments) delete this[name]; }; module.exports = Page; × Search results Close "},"steps_page.js.html":{"id":"steps_page.js.html","title":"Source: steps/page.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: steps/page.js &quot;use strict&quot;; /** * Steps for page. * * @mixin PageSteps */ var url = require(&quot;url&quot;); var expect = require(&quot;chai&quot;).expect; var U = require(&quot;glace-utils&quot;); var LOG = U.logger; var PageSteps = { registerPages: function () { /** * Helper to register pages. * * @memberOf PageSteps * @method registerPages * @instance * @arg {...Page} pages - Sequence of pages. */ for (var page of arguments) { if (this._pages()[page.name]) { LOG.debug(`Page ${page.name} is registered already`); continue; }; allure.step(`Register web page ${page.name}`); LOG.info(`Register web page ${page.name}`); page.setDriver(this.webdriver); this._pages()[page.name] = page; allure.pass(); }; }, removePages: function () { /** * Helper to remove pages. * * @memberOf PageSteps * @method removePages * @instance * @arg {...string} pageNames - Sequence of page names. */ for (var pageName of arguments) { if (!this._pages()[pageName]) { LOG.debug(`Page ${pageName} isn't registered`); continue; }; allure.step(`Remove page ${pageName}`); LOG.info(`Remove page ${pageName}`); this._pages()[pageName].setDriver(null); delete this._pages()[pageName]; allure.pass(); }; }, openPage: async function (pageName) { /** * Step to open page. * * @async * @memberOf PageSteps * @method openPage * @instance * @arg {string} pageName - Name of page to open. * @return {Promise} */ allure.step(`Open web page ${pageName}`); expect(this.webUrl, &quot;Web URL isn't defined&quot;).to.exist; LOG.info(`Openning page '${pageName}' in browser...`); var page = this._pages()[pageName]; var webUrl = url.resolve(this.webUrl, page.url); await this.openUrl(webUrl); LOG.info(&quot;Page is opened&quot;); allure.pass(); }, getCurrentPage: async function () { /** * Step to get current page. * * @async * @memberOf PageSteps * @method getCurrentPage * @instance * @return {Promise&lt;Page&gt;} - Page which corresponds to current browser URL. * @throws {Error} - If no one of registered pages corresponds to * current browser URL. */ allure.step(&quot;Get current web page&quot;); LOG.info(&quot;Getting current web page...&quot;); /* sort pages by descending page url length */ var pages = Object.values(this._pages()).sort( (a, b) =&gt; a.url.length &lt; b.url.length); var curUrl = url.parse(await this.webdriver.getUrl()); for (var page of pages) { if (curUrl.pathname.startsWith(page.url)) { LOG.info(&quot;Current web page is found&quot;); allure.pass(); return page; } }; throw new Error( `No one of registered pages corresponds URL '${curUrl}'`); }, getElement: async function (name, opts) { /** * Step to get UI element. * * @async * @memberOf PageSteps * @method getElement * @instance * @arg {string} name - UI element name. * @arg {object} [opts] - Step options. * @arg {boolean} [opts.check=true] - Flag to check step result. * @return {Promise&lt;object&gt;} - UI element. * @throws {AssertionError} - If element wasn't found. */ opts = U.defVal(opts, {}); var check = U.defVal(opts.check, true); allure.step(`Get web element with name ${name}`); LOG.info(`Getting web element with name ${name}...`); var element = (await this.getCurrentPage())[name]; if (check) { expect(element, `Undefined DOM element ${name}`).to.exist; }; LOG.info(&quot;Web element is found&quot;); allure.pass(); return element; }, /** * Helper to initialize pages storage. * * @method * @instance * @protected */ _pages: function () { if (!this.__pages) this.__pages = {}; return this.__pages; }, }; module.exports = PageSteps; × Search results Close "},"pom_event.js.html":{"id":"pom_event.js.html","title":"Source: pom/event.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: pom/event.js &quot;use strict&quot;; /** * Creates a new pointer events instance. * * @class * @name PointerEvents * @classdesc Contains browser pointer events. * @arg {string} selector - CSS selector of DOM element. * @arg {Page} page - Page with element. */ var weak = require(&quot;weak&quot;); var PointerEvents = function (selector, page) { this._selector = selector; this._page = weak(page); this._elCmd = `document.querySelector(&quot;${this._selector}&quot;)`; this._webdriver = null; }; /** * Helper to get webdriver. * * @method * @return {object} webdriver instance */ PointerEvents.prototype._getDriver = function () { if (!this._webdriver) { this._webdriver = this._page.getDriver(); }; return this._webdriver; }; /** * Moves pointer over element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.over = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent(&quot;pointerover&quot;, \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; /** * Enters pointer to element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.enter = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent(&quot;pointerenter&quot;, \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; /** * Presses pointer down on element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.down = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent(&quot;pointerdown&quot;, \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; /** * Unpresses pointer up on element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.up = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent(&quot;pointerup&quot;, \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; /** * Moves pointer to element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.move = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent(&quot;pointermove&quot;, \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; /** * Cancel pointer on element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.cancel = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent('pointercancel', \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; /** * Moves out pointer from element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.out = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent('pointerout', \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; /** * Leaves pointer from element by selector. * * @async * @method * @arg {number} x - `x` coordinate. * @arg {number} y - `y` coordinate. * @return {Promise&lt;void&gt;} */ PointerEvents.prototype.leave = function (x, y) { var cmd = ` \\ var el = ${this._elCmd}; \\ var ev = new PointerEvent('pointerleave', \\ { clientX: ${x}, clientY: ${y}, \\ bubbles: true, cancelable: true, view: window, isPrimary: true }); \\ el.dispatchEvent(ev);`; return this._getDriver().execute(cmd); }; module.exports = PointerEvents; × Search results Close "},"steps_index.js.html":{"id":"steps_index.js.html","title":"Source: steps/index.js","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Source: steps/index.js &quot;use strict&quot;; /** * Steps to manage web application. * * @mixin WebSteps * @mixes BrowserSteps * @mixes PageSteps * @prop {object} webdriver - Webdriver instance. * @prop {string} webUrl - Web application URL. */ var _ = require(&quot;lodash&quot;); require(&quot;../fixtures&quot;); var WebSteps = {}; _.extend(WebSteps, require(&quot;./browser&quot;), require(&quot;./page&quot;)); module.exports = WebSteps; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Global Methods fxBrowser(func) Fixture to launch browser. Parameters: Name Type Description func function Test funciton. Source: fixtures.js, line 41 fxKillWebdriver(func) Fixture to kill webdriver processes. Parameters: Name Type Description func function Test funciton. Source: fixtures.js, line 73 fxSelenium(func) Fixture to launch selenium server. Parameters: Name Type Description func function Test funciton. Source: fixtures.js, line 18 fxWebdriver(func) Fixture to set webdriver. Parameters: Name Type Description func function Test funciton. Source: fixtures.js, line 62 × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Modules Classes Element Page PointerEvents Mixins BrowserSteps PageSteps WebSteps Namespaces GlaceConfig × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Classes Classes Element Page PointerEvents Mixins BrowserSteps PageSteps WebSteps Namespaces GlaceConfig × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Namespaces Classes Element Page PointerEvents Mixins BrowserSteps PageSteps WebSteps Namespaces GlaceConfig × Search results Close "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Mixins Classes Element Page PointerEvents Mixins BrowserSteps PageSteps WebSteps Namespaces GlaceConfig × Search results Close "},"tutorials.list.html":{"id":"tutorials.list.html","title":"Tutorials","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Tutorials Classes Element Page PointerEvents Mixins BrowserSteps PageSteps WebSteps Namespaces GlaceConfig × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver | Source Code | Release Notes GlaceJS Web pluginProvides steps for GlaceJS framework to launch web UI tests in browser. Features Launch standalone selenium server Connect to existing selenium or appium server Page Object Model with weak refs Browser Pointer Events Requirements: Installed java in order to launch selenium server. How to installnpm i glace-webHow to usevar glaceWeb = require(&quot;glace-web&quot;); glaceWeb.Steps; glaceWeb.config;If plugin is used as a part of GlaceJS it will be loaded automatically. CLI optionsSelenium --dont-install-drivers - Flag to not install selenium drivers on tests run. --web - Flag to launch tests in browser. Browser will be launched on session start and closed on session finish. --web-url - Application URL which will be used for web tests. --web-resolution &lt;widthxheight&gt; - Browser viewport size (pc platform only). --selenium-addr - Connect to launched selenium server with this address. --platform - Specify platform type where tests will be executed. Default is pc. Supported values are pc, android, ios. --browser - Name of browser where web tests will be executed. Default value is platform specific. Appium --device - Mobile device name. --os-version - Mobile operating system version. --ios-engine - iOS automation engine name. API config fixtures steps Test examplesSee integration tests in order to explore examples. × Search results Close "},"BrowserSteps.html":{"id":"BrowserSteps.html","title":"Mixin: BrowserSteps","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Mixin: BrowserSteps BrowserSteps Steps for web applications. Source: steps/browser.js, line 2 Methods &lt;protected&gt; _setChromeOpts( [chromeOpts]) Helper to set chrome options. It composes chrome options list in next order: user provided options proxy options if they are not present in list default config options if they are not present in list Parameters: Name Type Argument Default Description chromeOpts array &lt;optional&gt; [] List of chrome options. Source: steps/browser.js, line 242 activateWeb() Helper to activate web application. Source: steps/browser.js, line 28 &lt;async&gt; closeBrowser( [opts]) Step to close browser. Step will be skipped if browser wasn't launched before. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that browser was closed. Source: steps/browser.js, line 318 Throws: If browser wasn't closed. Type AssertionError Returns: true if step is executed, false if skipped. Type Promise.&lt;boolean&gt; &lt;async&gt; installSeleniumDrivers( [opts]) Step to install selenium drivers. Parameters: Name Type Argument Description opts object &lt;optional&gt; selenium-standalone options. Source: steps/browser.js, line 42 Throws: If there was error during drivers installation. Type Error Returns: Type Promise.&lt;void&gt; &lt;async&gt; launchBrowser( [opts]) Step to launch browser. Step recall will be skipped if browser wasn't closed before. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that browser was launched. chromeOpts Array.&lt;string&gt; &lt;optional&gt; [] List of chrome options. Source: steps/browser.js, line 157 Throws: If browser wasn't launched. Type AssertionError Returns: true if step is executed, false if skipped. Type Promise.&lt;boolean&gt; Example await SS.launchBrowser(); await SS.launchBrowser({ chromeOpts: [&quot;headless&quot;, &quot;user-data-dir=/path/to/dir&quot;] }); &lt;async&gt; openApp( [opts]) Step to open application URL in browser. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Source: steps/browser.js, line 419 Throws: If application URL is not defined. Type AssertionError Returns: Type Promise.&lt;void&gt; &lt;async&gt; openUrl(webUrl [, opts]) Step to open URL in browser. Parameters: Name Type Argument Description webUrl string URL which should be opened in browser. opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check that URL is opened. timeout number &lt;optional&gt; Timeout to wait for URL will be opened in browser, sec. Default value is CONF.web.pageTimeout. Source: steps/browser.js, line 377 Throws: If URL wasn't opened after timeout. Type Error Returns: Type Promise.&lt;void&gt; &lt;async&gt; restartBrowser( [opts]) Step to restart browser. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Source: steps/browser.js, line 359 Returns: Type Promise.&lt;void&gt; &lt;async&gt; setViewport( [opts]) Step to set browser viewport size. Parameters: Name Type Argument Description opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description width number &lt;optional&gt; Browser viewport width. height number &lt;optional&gt; Browser viewport height. check boolean &lt;optional&gt; true Flag to check step result. Source: steps/browser.js, line 269 Throws: If width or height values are not a number. Type AssertionError If viewport size wasn't changed correctly. Type AssertionError Returns: true when step is executed. Type boolean &lt;async&gt; startSeleniumServer( [opts]) Step to start selenium server. Step recall will be skipped if selenium server wasn't stopped before. Parameters: Name Type Argument Description opts object &lt;optional&gt; selenium-standalone options. Source: steps/browser.js, line 79 Throws: If there was error on selenium start. Type Error Returns: true if step is executed, false if skipped. Type Promise.&lt;boolean&gt; &lt;async&gt; stopSeleniumServer() Step to stop selenium server. Step call will be skipped if selenium server wasn't started before. Source: steps/browser.js, line 117 Throws: If there was error on selenium stop. Type Error Returns: true if step is executed, false if skipped. Type Promise.&lt;boolean&gt; × Search results Close "},"Element.html":{"id":"Element.html","title":"Class: Element","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Class: Element Element new Element(name, selector, page) Creates a new instance of Element. Element binds DOM control in browser context with virtual control in test. Parameters: Name Type Description name string Control name. selector object CSS selector of DOM element. page Page Page with element. Source: pom/element.js, line 2 Methods _getDriver() Helper to get webdriver. Source: pom/element.js, line 36 Returns: webdriver instance Type object &lt;async&gt; click( [opts]) Clicks control in browser. Parameters: Name Type Argument Description opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description now boolean &lt;optional&gt; false Make it immediately. timeout number &lt;optional&gt; &lt;nullable&gt; Time to wait for element visibility, sec. scroll boolean &lt;optional&gt; true Scroll to element. Source: pom/element.js, line 163 Returns: Type Promise getElement() Gets webdriver element. Source: pom/element.js, line 48 Returns: Webdriver element. Type object &lt;async&gt; getText( [opts]) Gets text content of DOM element. Parameters: Name Type Argument Description opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description now boolean &lt;optional&gt; false Make it immediately. timeout number &lt;optional&gt; &lt;nullable&gt; Time to wait for element visibility, sec. Source: pom/element.js, line 61 Returns: Text value or null. Type Promise.&lt;string&gt; &lt;async&gt; isExist() Defines whether control is exist or no. Source: pom/element.js, line 248 Returns: true if control is exist, false otherwise. Type Promise.&lt;boolean&gt; &lt;async&gt; isSelected( [opts]) Defines whether control is selected or no. Parameters: Name Type Argument Description opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description now boolean &lt;optional&gt; false Make it immediately. timeout number &lt;optional&gt; &lt;nullable&gt; Time to wait for element visibility, sec. Source: pom/element.js, line 226 Returns: true if control is selected, false otherwise. Type Promise.&lt;boolean&gt; isVisible() Defines whether control is visible or no. Source: pom/element.js, line 292 Returns: true if control is visible, false otherwise. Type Promise.&lt;boolean&gt; &lt;async&gt; location() Gets DOM control location with attributes: x, y, midX, midY, width, height. Source: pom/element.js, line 114 Returns: Location of control. Type Promise.&lt;object&gt; &lt;async&gt; pClick( [opts]) Clicks element in browser via pointer events. Parameters: Name Type Argument Description opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description now boolean &lt;optional&gt; false Make it immediately. timeout number &lt;optional&gt; &lt;nullable&gt; Time to wait for element visibility, sec. scroll boolean &lt;optional&gt; true Scroll to element. Source: pom/element.js, line 187 Returns: Type Promise &lt;async&gt; scrollIntoView( [opts]) Scrolls control into browser viewport. Parameters: Name Type Argument Description opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description now boolean &lt;optional&gt; false Make it immediately. timeout number &lt;optional&gt; &lt;nullable&gt; Time to wait for element visibility, sec. Source: pom/element.js, line 140 Returns: Type Promise &lt;async&gt; setText(text [, opts]) Sets text to DOM element. Parameters: Name Type Argument Description text string Text value to assign. opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description now boolean &lt;optional&gt; false Make it immediately. timeout number &lt;optional&gt; &lt;nullable&gt; Time to wait for element visibility, sec. scroll boolean &lt;optional&gt; true Scroll to element. Source: pom/element.js, line 93 Returns: Type Promise &lt;async&gt; tap( [opts]) Taps control in browser. Parameters: Name Type Argument Description opts object &lt;optional&gt; Options. Properties Name Type Argument Default Description now boolean &lt;optional&gt; false Make it immediately. timeout number &lt;optional&gt; &lt;nullable&gt; Time to wait for element visibility, sec. scroll boolean &lt;optional&gt; true Scroll to element. Source: pom/element.js, line 215 Returns: Type Promise &lt;async&gt; waitForExist( [timeout]) Waits for control is exist. Parameters: Name Type Argument Description timeout number &lt;optional&gt; Timeout to wait, sec. Source: pom/element.js, line 261 Throws: If control doesn't exist after timeout. Type TimeoutError Returns: Type Promise &lt;async&gt; waitForInvisible( [timeout]) Waits for control is invisible. Parameters: Name Type Argument Description timeout number &lt;optional&gt; Timeout to wait, sec. Source: pom/element.js, line 325 Throws: If control is still visible after timeout. Type TimeoutError Returns: Type Promise &lt;async&gt; waitForNonExist( [timeout]) Waits for control isn't exist. Parameters: Name Type Argument Description timeout number &lt;optional&gt; Timeout to wait, sec. Source: pom/element.js, line 278 Throws: If control is still exist after timeout. Type TimeoutError Returns: Type Promise &lt;async&gt; waitForVisible( [timeout]) Waits for control is visible. Parameters: Name Type Argument Description timeout number &lt;optional&gt; Timeout to wait, sec. Source: pom/element.js, line 307 Throws: If control isn't visible after timeout. Type TimeoutError Returns: Type Promise × Search results Close "},"GlaceConfig.html":{"id":"GlaceConfig.html","title":"Namespace: GlaceConfig","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Namespace: GlaceConfig GlaceConfig Configures GlaceJS before tests run. Properties: Name Type Description web object Web options. Properties Name Type Argument Default Description use boolean &lt;optional&gt; false Flag to use web. url string &lt;optional&gt; URL of web application. updateDrivers boolean &lt;optional&gt; true Flag to update selenium drivers before start. platform string &lt;optional&gt; pc Platform type. browser string &lt;optional&gt; Browser name. webdriver object Webdriver options. Source: config.js, line 2 × Search results Close "},"module-fixtures.html":{"id":"module-fixtures.html","title":"Module: fixtures","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Module: fixtures Web fixtures. Source: fixtures.js, line 2 × Search results Close "},"module-index.html":{"id":"module-index.html","title":"Module: index","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Module: index GlaceJS Web plugin. Source: index.js, line 2 Members &lt;inner&gt; config :GlaceConfig Type: GlaceConfig Source: index.js, line 14 &lt;inner&gt; Page :Page Type: Page Source: index.js, line 23 &lt;inner&gt; pluginHelp :pluginHelp Type: pluginHelp Source: index.js, line 32 &lt;inner&gt; Steps :WebSteps Type: WebSteps Source: index.js, line 41 × Search results Close "},"Page.html":{"id":"Page.html","title":"Class: Page","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Class: Page Page new Page(name, pageUrl, elements) Page of browser. Parameters: Name Type Description name string Name of page. pageUrl string URL of page. elements object Element names and selectors dictionary. Source: pom/index.js, line 2 Methods &lt;protected&gt; _addElement(name, selector) Adds element. Parameters: Name Type Description name string Element name. selector string Element selector. Source: pom/index.js, line 67 addElements(elements) Adds elements to page. Parameters: Name Type Description elements object Element names and selectors dictionary. Source: pom/index.js, line 53 getDriver() Gets webdriver. Source: pom/index.js, line 41 Throws: If webdriver isn't set yet. Type AssertionError Returns: Webdriver instance. Type object removeElements(elementNames) Removes elements from page. Parameters: Name Type Argument Description elementNames string &lt;repeatable&gt; Sequence of element names. Source: pom/index.js, line 100 setDriver(webdriver) Sets webdriver for page. Parameters: Name Type Description webdriver object Webdriver instance. Source: pom/index.js, line 31 × Search results Close "},"PageSteps.html":{"id":"PageSteps.html","title":"Mixin: PageSteps","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Mixin: PageSteps PageSteps Steps for page. Source: steps/page.js, line 2 Methods &lt;protected&gt; _pages() Helper to initialize pages storage. Source: steps/page.js, line 167 &lt;async&gt; getCurrentPage() Step to get current page. Source: steps/page.js, line 95 Throws: If no one of registered pages corresponds to current browser URL. Type Error Returns: Page which corresponds to current browser URL. Type Promise.&lt;Page&gt; &lt;async&gt; getElement(name [, opts]) Step to get UI element. Parameters: Name Type Argument Description name string UI element name. opts object &lt;optional&gt; Step options. Properties Name Type Argument Default Description check boolean &lt;optional&gt; true Flag to check step result. Source: steps/page.js, line 128 Throws: If element wasn't found. Type AssertionError Returns: UI element. Type Promise.&lt;object&gt; &lt;async&gt; openPage(pageName) Step to open page. Parameters: Name Type Description pageName string Name of page to open. Source: steps/page.js, line 69 Returns: Type Promise registerPages(pages) Helper to register pages. Parameters: Name Type Argument Description pages Page &lt;repeatable&gt; Sequence of pages. Source: steps/page.js, line 17 removePages(pageNames) Helper to remove pages. Parameters: Name Type Argument Description pageNames string &lt;repeatable&gt; Sequence of page names. Source: steps/page.js, line 43 × Search results Close "},"PointerEvents.html":{"id":"PointerEvents.html","title":"Class: PointerEvents","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Class: PointerEvents PointerEvents Contains browser pointer events. new PointerEvents(selector, page) Creates a new pointer events instance. Parameters: Name Type Description selector string CSS selector of DOM element. page Page Page with element. Source: pom/event.js, line 2 Methods _getDriver() Helper to get webdriver. Source: pom/event.js, line 26 Returns: webdriver instance Type object &lt;async&gt; cancel(x, y) Cancel pointer on element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 136 Returns: Type Promise.&lt;void&gt; &lt;async&gt; down(x, y) Presses pointer down on element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 79 Returns: Type Promise.&lt;void&gt; &lt;async&gt; enter(x, y) Enters pointer to element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 60 Returns: Type Promise.&lt;void&gt; &lt;async&gt; leave(x, y) Leaves pointer from element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 174 Returns: Type Promise.&lt;void&gt; &lt;async&gt; move(x, y) Moves pointer to element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 117 Returns: Type Promise.&lt;void&gt; &lt;async&gt; out(x, y) Moves out pointer from element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 155 Returns: Type Promise.&lt;void&gt; &lt;async&gt; over(x, y) Moves pointer over element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 41 Returns: Type Promise.&lt;void&gt; &lt;async&gt; up(x, y) Unpresses pointer up on element by selector. Parameters: Name Type Description x number x coordinate. y number y coordinate. Source: pom/event.js, line 98 Returns: Type Promise.&lt;void&gt; × Search results Close "},"WebSteps.html":{"id":"WebSteps.html","title":"Mixin: WebSteps","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Mixin: WebSteps WebSteps Steps to manage web application. Properties: Name Type Description webdriver object Webdriver instance. webUrl string Web application URL. Mixes In: BrowserSteps PageSteps Source: steps/index.js, line 2 × Search results Close "},"tutorial-release-notes.html":{"id":"tutorial-release-notes.html","title":"Tutorial: Release Notes","body":" GlaseJS Namespaces GlaceConfig Modules fixturesindex Classes ElementPagePointerEvents Mixins BrowserStepsPageStepsWebSteps Tutorials Release Notes Global fxBrowserfxKillWebdriverfxSeleniumfxWebdriver Release Notes v1.2.4 Migrated to new glace-core. v1.2.3 Update dependencies. v1.2.2 Added allure steps. v1.2.1 Fixed registered pages default value. v1.2.0 Started to wait for element visibility before action. v1.1.9 Decomposed chrome options. Set page load timeout. v1.1.8 Fixed page load timeout default value. v1.1.7 Added CLI option to launch chrome in headless mode. Added CLI option to provide chrome options. Added CLI option to update selenium drivers. Added to provide custom selenium-standalone options. v1.1.6 Added project workflow commands. Fixed plugin help items. Logged steps. v1.1.5 Fixed absent timeout value in error message. Updated selenium version. v1.1.4 Used docstring style in steps. v1.1.3 Used isPrimary: true for PointerEvents. v1.1.2 Fixed bug that activateWeb step overrides already set webUrl property. v1.1.1 Added feature to generate page elements by template from selectors array or function. v1.1.0 Actualized code of page object model, ready for production usage. v1.0.9 Renamed CLI option --resolution to --web-resolution. Added it to plugin help and documentation. v1.0.8 Added step to set browser viewport size. Step may be called separately or inside step to launch browser if config.web contains properties width and height (may be passed via CLI option --resolution &lt;width&gt;x&lt;height&gt;) and platform is pc. × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
